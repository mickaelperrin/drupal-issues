diff --git a/core/modules/image/src/PathProcessor/PathProcessorImageStyles.php b/core/modules/image/src/PathProcessor/PathProcessorImageStyles.php
index 5fdbd2f..cf88074 100644
--- a/core/modules/image/src/PathProcessor/PathProcessorImageStyles.php
+++ b/core/modules/image/src/PathProcessor/PathProcessorImageStyles.php
@@ -45,8 +45,11 @@ public function __construct(StreamWrapperManagerInterface $stream_wrapper_manage
    */
   public function processInbound($path, Request $request) {
     $directory_path = $this->streamWrapperManager->getViaScheme('public')->getDirectoryPath();
-    if (strpos($path, '/' . $directory_path . '/styles/') === 0) {
-      $path_prefix = '/' . $directory_path . '/styles/';
+    if (!preg_match('/^\/.*/',$directory_path)) {
+      $directory_path = '/' . $directory_path;
+    }
+    if (strpos($path, $directory_path . '/styles/') === 0) {
+      $path_prefix = $directory_path . '/styles/';
     }
     elseif (strpos($path, '/system/files/styles/') === 0) {
       $path_prefix = '/system/files/styles/';
